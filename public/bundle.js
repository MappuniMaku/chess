!function(e){var t={};function r(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(o,i,function(t){return e[t]}.bind(null,i));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONSTANTS=void 0,t.CONSTANTS={BOARD_SIZE:8,CELL_SIZE:50,LETTERS_START_CODE:"a".charCodeAt(0)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2),i=document.getElementById("root");if(i){new o.App({root:i})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const o=r(3),i=r(4),n=r(0),{BOARD_SIZE:l,CELL_SIZE:s,LETTERS_START_CODE:c}=n.CONSTANTS,u={[o.FigureType.King]:i.FigureKing};t.App=class{constructor(e){this.board=[],this.$board=null,this.$figures=null,this.$root=e.root,this.createBoard(),this.createFigures()}convertCoordsToCell(e,t){return e<s||t<s||e>s*(l+1)||t>s*(l+1)?null:(t-=s,e-=s,{row:Math.floor(t/s),col:Math.floor(e/s)})}getBoardCell(e){return this.board[e.row][e.col]}onBoardClick(e){var t;const r=null===(t=this.$board)||void 0===t?void 0:t.getBoundingClientRect();if(!r)return;const o=e.clientX-r.left,i=e.clientY-r.top,n=this.convertCoordsToCell(o,i);if(null===n)return;const{figure:l}=this.getBoardCell(n);null!==l&&this.highlightCells(l.getCellsToMove(n))}createFigures(){var e;this.$figures=this.newDiv("Chess__figures"),null===(e=this.$board)||void 0===e||e.append(this.$figures),this.addFigureOnBoard(o.FigureType.King,o.Player.White,{row:5,col:5})}highlightCells(e){var t;null===(t=this.$board)||void 0===t||t.querySelectorAll("Chess__cell--highlighted").forEach(e=>{e.classList.remove("Chess__cell--highlighted")}),e.forEach(e=>{const{$cell:t}=this.getBoardCell(e);t.classList.add("Chess__cell--highlighted")})}addFigureOnBoard(e,t,r){var o;const i=this.newDiv(`Chess__figure Chess__figure--${t.toString()} Chess__figure--${e.toString()}`);i.style.left=String(s*(r.row+1))+"px",i.style.top=String(s*(r.col+1))+"px",null===(o=this.$figures)||void 0===o||o.append(i),this.getBoardCell(r).figure=new u[e]}createBoard(){this.$board=this.newDiv("Chess__board"),this.$board.addEventListener("click",this.onBoardClick.bind(this));const e=this.newDiv("Chess__row");this.$board.append(e);const t=this.newDiv("Chess__cell");e.append(t);for(let t=0;t<l;t++){const r=this.newDiv("Chess__cell Chess__cell--heading");r.textContent=String.fromCharCode(c+t),e.append(r);const o=this.newDiv("Chess__row"),i=this.newDiv("Chess__cell Chess__cell--heading");i.textContent=String(l-t),o.append(i),this.board.push([]);for(let e=0;e<l;e++){const e=this.newDiv("Chess__cell Chess__cell--main");o.append(e),this.board[t].push({$cell:e,figure:null})}o.append(i.cloneNode(!0)),this.$board.append(o)}e.append(t.cloneNode()),this.$board.append(e.cloneNode(!0)),this.$root.append(this.$board)}getElement(e){return this.$root.querySelector(e)}createElement(e,t=""){const r=document.createElement(e);return t&&(r.className=t),r}newDiv(e=""){return this.createElement("div",e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Player=t.FigureType=void 0,function(e){e.King="king"}(t.FigureType||(t.FigureType={})),function(e){e.White="white",e.Black="black"}(t.Player||(t.Player={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FigureKing=void 0;const o=r(0),{BOARD_SIZE:i}=o.CONSTANTS;t.FigureKing=class{getCellsToMove(e){const t=[],{col:r,row:o}=e;for(let e=o-1;e<=o+1;e++)for(let n=r-1;n<=r+1;n++)e>0&&n>0&&e<i&&n<i&&(e!==r||n!==o)&&t.push({row:e,col:n});return t}}}]);
//# sourceMappingURL=bundle.js.map