!function(e){var t={};function r(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(o,i,function(t){return e[t]}.bind(null,i));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONSTANTS=void 0,t.CONSTANTS={BOARD_SIZE:8,CELL_SIZE:50,LETTERS_START_CODE:"a".charCodeAt(0)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2),i=document.getElementById("root");if(i){const e=new o.App({root:i});console.log(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const o=r(3),i=r(4),n=r(5),l=r(0),{BOARD_SIZE:s,CELL_SIZE:u,LETTERS_START_CODE:c}=l.CONSTANTS,a={[o.FigureType.King]:i.FigureKing,[o.FigureType.Queen]:i.FigureQueen,[o.FigureType.Rook]:i.FigureRook,[o.FigureType.Bishop]:i.FigureBishop,[o.FigureType.Knight]:i.FigureKnight};t.App=class{constructor(e){this.board=[],this.$board=null,this.$figures=null,this.$root=e.root,this.createBoard(),this.createFigures()}convertCoordsToCell(e,t){return e<u||t<u||e>u*(s+1)||t>u*(s+1)?null:(t-=u,e-=u,{row:Math.floor(t/u),col:Math.floor(e/u)})}getBoardCell(e){return this.board[e.row][e.col]}onBoardClick(e){var t;const r=null===(t=this.$board)||void 0===t?void 0:t.getBoundingClientRect();if(!r)return;const o=e.clientX-r.left,i=e.clientY-r.top,n=this.convertCoordsToCell(o,i);if(null===n)return;const{figure:l}=this.getBoardCell(n);null!==l&&this.highlightCells(l.getCellsToMove(n))}createFigures(){var e;this.$figures=n.createDiv("Chess__figures"),null===(e=this.$board)||void 0===e||e.append(this.$figures),this.addFigureOnBoard(o.FigureType.King,o.Player.White,{row:1,col:1}),this.addFigureOnBoard(o.FigureType.Queen,o.Player.White,{row:3,col:5}),this.addFigureOnBoard(o.FigureType.Rook,o.Player.White,{row:2,col:3}),this.addFigureOnBoard(o.FigureType.Bishop,o.Player.White,{row:4,col:2}),this.addFigureOnBoard(o.FigureType.Knight,o.Player.White,{row:1,col:5})}highlightCells(e){var t;null===(t=this.$board)||void 0===t||t.querySelectorAll(".Chess__cell--highlighted").forEach(e=>{e.classList.remove("Chess__cell--highlighted")}),e.forEach(e=>{const{$cell:t}=this.getBoardCell(e);t.classList.add("Chess__cell--highlighted")})}addFigureOnBoard(e,t,r){var o;const i=n.createDiv(`Chess__figure Chess__figure--${t.toString()} Chess__figure--${e.toString()}`);i.style.top=String(u*(r.row+1))+"px",i.style.left=String(u*(r.col+1))+"px",null===(o=this.$figures)||void 0===o||o.append(i),this.getBoardCell(r).figure=new a[e]}createBoard(){this.$board=n.createDiv("Chess__board"),this.$board.addEventListener("click",this.onBoardClick.bind(this));const e=n.createDiv("Chess__row");this.$board.append(e);const t=n.createDiv("Chess__cell");e.append(t);for(let t=0;t<s;t++){const r=n.createDiv("Chess__cell Chess__cell--heading");r.textContent=String.fromCharCode(c+t),e.append(r);const o=n.createDiv("Chess__row"),i=n.createDiv("Chess__cell Chess__cell--heading");i.textContent=String(s-t),o.append(i),this.board.push([]);for(let e=0;e<s;e++){const e=n.createDiv("Chess__cell Chess__cell--main");o.append(e),this.board[t].push({$cell:e,figure:null})}o.append(i.cloneNode(!0)),this.$board.append(o)}e.append(t.cloneNode()),this.$board.append(e.cloneNode(!0)),this.$root.append(this.$board)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Player=t.FigureType=void 0,function(e){e.King="king",e.Queen="queen",e.Rook="rook",e.Bishop="bishop",e.Knight="knight"}(t.FigureType||(t.FigureType={})),function(e){e.White="white",e.Black="black"}(t.Player||(t.Player={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FigureKnight=t.FigureBishop=t.FigureRook=t.FigureQueen=t.FigureKing=void 0;const o=r(0),{BOARD_SIZE:i}=o.CONSTANTS;t.FigureKing=class{getCellsToMove(e){const t=[],{col:r,row:o}=e;for(let e=o-1;e<=o+1;e++)for(let n=r-1;n<=r+1;n++)e>-1&&n>-1&&e<i&&n<i&&(e!==r||n!==o)&&t.push({row:e,col:n});return t}};t.FigureQueen=class{getCellsToMove(e){const t=[],{col:r,row:o}=e;for(let e=0;e<i;e++)for(let n=0;n<i;n++)e-n!=o-r&&e+n!==r+o&&e!==o&&n!==r||e===o&&n===r||t.push({row:e,col:n});return t}};t.FigureRook=class{getCellsToMove(e){const t=[],{col:r,row:o}=e;for(let e=0;e<i;e++)e!==r&&t.push({row:o,col:e});for(let e=0;e<i;e++)e!==o&&t.push({row:e,col:r});return t}};t.FigureBishop=class{getCellsToMove(e){const t=[],{col:r,row:o}=e;for(let e=0;e<i;e++)for(let n=0;n<i;n++)e-n!=o-r&&e+n!==r+o||e===o&&n===r||t.push({row:e,col:n});return t}};t.FigureKnight=class{getCellsToMove(e){const t=[],{col:r,row:o}=e,n=Math.max(r-2,0),l=Math.max(o-2,0),s=Math.min(r+2,i-1),u=Math.min(o+2,i-1);for(let e=l;e<=u;e++)for(let i=n;i<=s;i++)Math.abs(e-o)+Math.abs(i-r)===3&&t.push({row:e,col:i});return t}}},function(e,t,r){"use strict";function o(e,t=""){const r=document.createElement(e);return t&&(r.className=t),r}Object.defineProperty(t,"__esModule",{value:!0}),t.createDiv=t.createElement=void 0,t.createElement=o,t.createDiv=function(e=""){return o("div",e)}}]);
//# sourceMappingURL=bundle.js.map